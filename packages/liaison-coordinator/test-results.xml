<testsuites id="" name="" tests="45" failures="45" skipped="0" errors="0" time="25.791929">
<testsuite name="cli-workflows.spec.ts" timestamp="2025-12-01T20:15:00.525Z" hostname="chromium" tests="9" failures="9" skipped="0" time="4.915" errors="0">
<testcase name="CLI Workflows › should show help information" classname="cli-workflows.spec.ts" time="3.651">
<failure message="cli-workflows.spec.ts:26:3 should show help information" type="FAILURE">
<![CDATA[  [chromium] › cli-workflows.spec.ts:26:3 › CLI Workflows › should show help information ───────────

    Error: Command failed: npm run build && node dist/bin/cody-beads.js --help
    node:internal/bootstrap/switches/does_own_process_state:142
        cachedCwd = rawMethods.cwd();
                               ^

    Error: ENOENT: no such file or directory, uv_cwd
        at process.wrappedCwd [as cwd] (node:internal/bootstrap/switches/does_own_process_state:142:28)
        at node:path:1236:24
        at Object.resolve (node:path:1270:19)
        at resolveMainPath (node:internal/modules/run_main:35:36)
        at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:146:20)
        at node:internal/main/run_main_module:33:47 {
      errno: -2,
      code: 'ENOENT',
      syscall: 'uv_cwd'
    }

    Node.js v25.1.0


      27 |     // Navigate to CLI help page (if you have a web interface)
      28 |     // or use execSync for actual CLI commands
    > 29 |     const result = execSync('npm run build && node dist/bin/cody-beads.js --help', {
         |                    ^
      30 |       cwd: testDir,
      31 |       encoding: 'utf8'
      32 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:29:20

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/cli-workflows-CLI-Workflows-should-show-help-information-chromium/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ../../test-results/cli-workflows-CLI-Workflows-should-show-help-information-chromium/video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|test-results/cli-workflows-CLI-Workflows-should-show-help-information-chromium/test-failed-1.png]]

[[ATTACHMENT|test-results/cli-workflows-CLI-Workflows-should-show-help-information-chromium/video.webm]]
]]>
</system-out>
<system-err>
<![CDATA[node:internal/bootstrap/switches/does_own_process_state:142
    cachedCwd = rawMethods.cwd();
                           ^

Error: ENOENT: no such file or directory, uv_cwd
[90m    at process.wrappedCwd [as cwd] (node:internal/bootstrap/switches/does_own_process_state:142:28)[39m
[90m    at node:path:1236:24[39m
[90m    at Object.resolve (node:path:1270:19)[39m
[90m    at resolveMainPath (node:internal/modules/run_main:35:36)[39m
[90m    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:146:20)[39m
[90m    at node:internal/main/run_main_module:33:47[39m {
  errno: [33m-2[39m,
  code: [32m'ENOENT'[39m,
  syscall: [32m'uv_cwd'[39m
}

Node.js v25.1.0
]]>
</system-err>
</testcase>
<testcase name="CLI Workflows › should initialize configuration interactively" classname="cli-workflows.spec.ts" time="0.799">
<failure message="cli-workflows.spec.ts:41:3 should initialize configuration interactively" type="FAILURE">
<![CDATA[  [chromium] › cli-workflows.spec.ts:41:3 › CLI Workflows › should initialize configuration interactively 

    Error: Command failed: echo -e "test-owner\ntest-repo\ntest-token\n" | node dist/bin/cody-beads.js config setup
    node:internal/modules/cjs/loader:1423
      throw err;
      ^

    Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
        at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)
        at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)
        at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)
        at Module._load (node:internal/modules/cjs/loader:1226:37)
        at TracingChannel.traceSync (node:diagnostics_channel:328:14)
        at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)
        at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
        at node:internal/main/run_main_module:33:47 {
      code: 'MODULE_NOT_FOUND',
      requireStack: []
    }

    Node.js v25.1.0


      46 |
      47 |     // Mock interactive responses
    > 48 |     const result = execSync(`echo -e "test-owner\\ntest-repo\\ntest-token\\n" | node dist/bin/cody-beads.js config setup`, {
         |                    ^
      49 |       cwd: testDir,
      50 |       encoding: 'utf8'
      51 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:48:20

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/cli-workflows-CLI-Workflow-18cb8-configuration-interactively-chromium/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ../../test-results/cli-workflows-CLI-Workflow-18cb8-configuration-interactively-chromium/video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|test-results/cli-workflows-CLI-Workflow-18cb8-configuration-interactively-chromium/test-failed-1.png]]

[[ATTACHMENT|test-results/cli-workflows-CLI-Workflow-18cb8-configuration-interactively-chromium/video.webm]]
]]>
</system-out>
<system-err>
<![CDATA[node:internal/modules/cjs/loader:1423
  throw err;
  ^

Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
[90m    at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)[39m
[90m    at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)[39m
[90m    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)[39m
[90m    at Module._load (node:internal/modules/cjs/loader:1226:37)[39m
[90m    at TracingChannel.traceSync (node:diagnostics_channel:328:14)[39m
[90m    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)[39m
[90m    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)[39m
[90m    at node:internal/main/run_main_module:33:47[39m {
  code: [32m'MODULE_NOT_FOUND'[39m,
  requireStack: []
}

Node.js v25.1.0
]]>
</system-err>
</testcase>
<testcase name="CLI Workflows › should list available templates" classname="cli-workflows.spec.ts" time="0.084">
<failure message="cli-workflows.spec.ts:57:3 should list available templates" type="FAILURE">
<![CDATA[  [chromium] › cli-workflows.spec.ts:57:3 › CLI Workflows › should list available templates ────────

    Error: Command failed: node dist/bin/cody-beads.js template list
    node:internal/modules/cjs/loader:1423
      throw err;
      ^

    Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
        at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)
        at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)
        at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)
        at Module._load (node:internal/modules/cjs/loader:1226:37)
        at TracingChannel.traceSync (node:diagnostics_channel:328:14)
        at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)
        at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
        at node:internal/main/run_main_module:33:47 {
      code: 'MODULE_NOT_FOUND',
      requireStack: []
    }

    Node.js v25.1.0


      56 |
      57 |   test('should list available templates', async () => {
    > 58 |     const result = execSync('node dist/bin/cody-beads.js template list', {
         |                    ^
      59 |       cwd: testDir,
      60 |       encoding: 'utf8'
      61 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:58:20
]]>
</failure>
<system-err>
<![CDATA[node:internal/modules/cjs/loader:1423
  throw err;
  ^

Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
[90m    at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)[39m
[90m    at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)[39m
[90m    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)[39m
[90m    at Module._load (node:internal/modules/cjs/loader:1226:37)[39m
[90m    at TracingChannel.traceSync (node:diagnostics_channel:328:14)[39m
[90m    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)[39m
[90m    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)[39m
[90m    at node:internal/main/run_main_module:33:47[39m {
  code: [32m'MODULE_NOT_FOUND'[39m,
  requireStack: []
}

Node.js v25.1.0
]]>
</system-err>
</testcase>
<testcase name="CLI Workflows › should apply template and create project" classname="cli-workflows.spec.ts" time="0.071">
<failure message="cli-workflows.spec.ts:69:3 should apply template and create project" type="FAILURE">
<![CDATA[  [chromium] › cli-workflows.spec.ts:69:3 › CLI Workflows › should apply template and create project 

    Error: Command failed: node dist/bin/cody-beads.js template apply minimal --name test-project
    node:internal/modules/cjs/loader:1423
      throw err;
      ^

    Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
        at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)
        at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)
        at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)
        at Module._load (node:internal/modules/cjs/loader:1226:37)
        at TracingChannel.traceSync (node:diagnostics_channel:328:14)
        at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)
        at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
        at node:internal/main/run_main_module:33:47 {
      code: 'MODULE_NOT_FOUND',
      requireStack: []
    }

    Node.js v25.1.0


      71 |     const projectDir = join(testDir, projectName);
      72 |
    > 73 |     execSync(`node dist/bin/cody-beads.js template apply minimal --name ${projectName}`, {
         |     ^
      74 |       cwd: testDir,
      75 |       encoding: 'utf8'
      76 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:73:5
]]>
</failure>
<system-err>
<![CDATA[node:internal/modules/cjs/loader:1423
  throw err;
  ^

Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
[90m    at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)[39m
[90m    at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)[39m
[90m    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)[39m
[90m    at Module._load (node:internal/modules/cjs/loader:1226:37)[39m
[90m    at TracingChannel.traceSync (node:diagnostics_channel:328:14)[39m
[90m    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)[39m
[90m    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)[39m
[90m    at node:internal/main/run_main_module:33:47[39m {
  code: [32m'MODULE_NOT_FOUND'[39m,
  requireStack: []
}

Node.js v25.1.0
]]>
</system-err>
</testcase>
<testcase name="CLI Workflows › should handle sync with dry run" classname="cli-workflows.spec.ts" time="0.011">
<failure message="cli-workflows.spec.ts:83:3 should handle sync with dry run" type="FAILURE">
<![CDATA[  [chromium] › cli-workflows.spec.ts:83:3 › CLI Workflows › should handle sync with dry run ────────

    ReferenceError: require is not defined

       96 |
       97 |     const configPath = join(testDir, 'cody-beads.config.json');
    >  98 |     require('fs').writeFileSync(configPath, JSON.stringify(config, null, 2));
          |     ^
       99 |
      100 |     const result = execSync('node dist/bin/cody-beads.js sync --dry-run', {
      101 |       cwd: testDir,
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:98:5
]]>
</failure>
</testcase>
<testcase name="CLI Workflows › should show error for invalid configuration" classname="cli-workflows.spec.ts" time="0.011">
<failure message="cli-workflows.spec.ts:109:3 should show error for invalid configuration" type="FAILURE">
<![CDATA[  [chromium] › cli-workflows.spec.ts:109:3 › CLI Workflows › should show error for invalid configuration 

    ReferenceError: require is not defined

      110 |     // Test with invalid configuration
      111 |     const configPath = join(testDir, 'cody-beads.config.json');
    > 112 |     require('fs').writeFileSync(configPath, '{ invalid json }');
          |     ^
      113 |
      114 |     const result = execSync('node dist/bin/cody-beads.js config test 2>&1 || true', {
      115 |       cwd: testDir,
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:112:5
]]>
</failure>
</testcase>
<testcase name="CLI Workflows › should version operations work correctly" classname="cli-workflows.spec.ts" time="0.073">
<failure message="cli-workflows.spec.ts:123:3 should version operations work correctly" type="FAILURE">
<![CDATA[  [chromium] › cli-workflows.spec.ts:123:3 › CLI Workflows › should version operations work correctly 

    Error: Command failed: node dist/bin/cody-beads.js version add --name "Test Version" --features "test features"
    node:internal/modules/cjs/loader:1423
      throw err;
      ^

    Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
        at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)
        at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)
        at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)
        at Module._load (node:internal/modules/cjs/loader:1226:37)
        at TracingChannel.traceSync (node:diagnostics_channel:328:14)
        at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)
        at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
        at node:internal/main/run_main_module:33:47 {
      code: 'MODULE_NOT_FOUND',
      requireStack: []
    }

    Node.js v25.1.0


      123 |   test('should version operations work correctly', async () => {
      124 |     // Test version add
    > 125 |     execSync(`node dist/bin/cody-beads.js version add --name "Test Version" --features "test features"`, {
          |     ^
      126 |       cwd: testDir,
      127 |       encoding: 'utf8'
      128 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:125:5
]]>
</failure>
<system-err>
<![CDATA[node:internal/modules/cjs/loader:1423
  throw err;
  ^

Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
[90m    at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)[39m
[90m    at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)[39m
[90m    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)[39m
[90m    at Module._load (node:internal/modules/cjs/loader:1226:37)[39m
[90m    at TracingChannel.traceSync (node:diagnostics_channel:328:14)[39m
[90m    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)[39m
[90m    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)[39m
[90m    at node:internal/main/run_main_module:33:47[39m {
  code: [32m'MODULE_NOT_FOUND'[39m,
  requireStack: []
}

Node.js v25.1.0
]]>
</system-err>
</testcase>
<testcase name="Error Handling › should handle missing configuration gracefully" classname="cli-workflows.spec.ts" time="0.003">
<failure message="cli-workflows.spec.ts:145:3 should handle missing configuration gracefully" type="FAILURE">
<![CDATA[  [chromium] › cli-workflows.spec.ts:145:3 › Error Handling › should handle missing configuration gracefully 

    Error: spawnSync /bin/sh ENOENT

      147 |
      148 |     try {
    > 149 |       const result = execSync('node dist/bin/cody-beads.js sync 2>&1 || true', {
          |                      ^
      150 |         cwd: testDir,
      151 |         encoding: 'utf8'
      152 |       });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:149:22
]]>
</failure>
</testcase>
<testcase name="Error Handling › should handle network errors gracefully" classname="cli-workflows.spec.ts" time="0.212">
<failure message="cli-workflows.spec.ts:164:3 should handle network errors gracefully" type="FAILURE">
<![CDATA[  [chromium] › cli-workflows.spec.ts:164:3 › Error Handling › should handle network errors gracefully 

    ReferenceError: require is not defined

      186 |     try {
      187 |       const configPath = join(testDir, 'cody-beads.config.json');
    > 188 |       require('fs').writeFileSync(configPath, JSON.stringify(config, null, 2));
          |       ^
      189 |
      190 |       const result = execSync('node dist/bin/cody-beads.js sync --timeout 5000 2>&1 || true', {
      191 |         cwd: testDir,
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:188:7
]]>
</failure>
<system-err>
</system-err>
</testcase>
</testsuite>
<testsuite name="cli-workflows.spec.ts" timestamp="2025-12-01T20:15:00.525Z" hostname="firefox" tests="9" failures="9" skipped="0" time="15.76" errors="0">
<testcase name="CLI Workflows › should show help information" classname="cli-workflows.spec.ts" time="12.974">
<failure message="cli-workflows.spec.ts:26:3 should show help information" type="FAILURE">
<![CDATA[  [firefox] › cli-workflows.spec.ts:26:3 › CLI Workflows › should show help information ────────────

    Error: Command failed: npm run build && node dist/bin/cody-beads.js --help
    node:internal/bootstrap/switches/does_own_process_state:142
        cachedCwd = rawMethods.cwd();
                               ^

    Error: ENOENT: no such file or directory, uv_cwd
        at process.wrappedCwd [as cwd] (node:internal/bootstrap/switches/does_own_process_state:142:28)
        at node:path:1236:24
        at Object.resolve (node:path:1270:19)
        at resolveMainPath (node:internal/modules/run_main:35:36)
        at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:146:20)
        at node:internal/main/run_main_module:33:47 {
      errno: -2,
      code: 'ENOENT',
      syscall: 'uv_cwd'
    }

    Node.js v25.1.0


      27 |     // Navigate to CLI help page (if you have a web interface)
      28 |     // or use execSync for actual CLI commands
    > 29 |     const result = execSync('npm run build && node dist/bin/cody-beads.js --help', {
         |                    ^
      30 |       cwd: testDir,
      31 |       encoding: 'utf8'
      32 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:29:20

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/cli-workflows-CLI-Workflows-should-show-help-information-firefox/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ../../test-results/cli-workflows-CLI-Workflows-should-show-help-information-firefox/video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|test-results/cli-workflows-CLI-Workflows-should-show-help-information-firefox/test-failed-1.png]]

[[ATTACHMENT|test-results/cli-workflows-CLI-Workflows-should-show-help-information-firefox/video.webm]]
]]>
</system-out>
<system-err>
<![CDATA[node:internal/bootstrap/switches/does_own_process_state:142
    cachedCwd = rawMethods.cwd();
                           ^

Error: ENOENT: no such file or directory, uv_cwd
[90m    at process.wrappedCwd [as cwd] (node:internal/bootstrap/switches/does_own_process_state:142:28)[39m
[90m    at node:path:1236:24[39m
[90m    at Object.resolve (node:path:1270:19)[39m
[90m    at resolveMainPath (node:internal/modules/run_main:35:36)[39m
[90m    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:146:20)[39m
[90m    at node:internal/main/run_main_module:33:47[39m {
  errno: [33m-2[39m,
  code: [32m'ENOENT'[39m,
  syscall: [32m'uv_cwd'[39m
}

Node.js v25.1.0
]]>
</system-err>
</testcase>
<testcase name="CLI Workflows › should initialize configuration interactively" classname="cli-workflows.spec.ts" time="2.41">
<failure message="cli-workflows.spec.ts:41:3 should initialize configuration interactively" type="FAILURE">
<![CDATA[  [firefox] › cli-workflows.spec.ts:41:3 › CLI Workflows › should initialize configuration interactively 

    Error: Command failed: echo -e "test-owner\ntest-repo\ntest-token\n" | node dist/bin/cody-beads.js config setup
    node:internal/modules/cjs/loader:1423
      throw err;
      ^

    Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
        at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)
        at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)
        at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)
        at Module._load (node:internal/modules/cjs/loader:1226:37)
        at TracingChannel.traceSync (node:diagnostics_channel:328:14)
        at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)
        at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
        at node:internal/main/run_main_module:33:47 {
      code: 'MODULE_NOT_FOUND',
      requireStack: []
    }

    Node.js v25.1.0


      46 |
      47 |     // Mock interactive responses
    > 48 |     const result = execSync(`echo -e "test-owner\\ntest-repo\\ntest-token\\n" | node dist/bin/cody-beads.js config setup`, {
         |                    ^
      49 |       cwd: testDir,
      50 |       encoding: 'utf8'
      51 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:48:20

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/cli-workflows-CLI-Workflow-18cb8-configuration-interactively-firefox/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ../../test-results/cli-workflows-CLI-Workflow-18cb8-configuration-interactively-firefox/video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|test-results/cli-workflows-CLI-Workflow-18cb8-configuration-interactively-firefox/test-failed-1.png]]

[[ATTACHMENT|test-results/cli-workflows-CLI-Workflow-18cb8-configuration-interactively-firefox/video.webm]]
]]>
</system-out>
<system-err>
<![CDATA[node:internal/modules/cjs/loader:1423
  throw err;
  ^

Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
[90m    at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)[39m
[90m    at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)[39m
[90m    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)[39m
[90m    at Module._load (node:internal/modules/cjs/loader:1226:37)[39m
[90m    at TracingChannel.traceSync (node:diagnostics_channel:328:14)[39m
[90m    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)[39m
[90m    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)[39m
[90m    at node:internal/main/run_main_module:33:47[39m {
  code: [32m'MODULE_NOT_FOUND'[39m,
  requireStack: []
}

Node.js v25.1.0
]]>
</system-err>
</testcase>
<testcase name="CLI Workflows › should list available templates" classname="cli-workflows.spec.ts" time="0.126">
<failure message="cli-workflows.spec.ts:57:3 should list available templates" type="FAILURE">
<![CDATA[  [firefox] › cli-workflows.spec.ts:57:3 › CLI Workflows › should list available templates ─────────

    Error: Command failed: node dist/bin/cody-beads.js template list
    node:internal/modules/cjs/loader:1423
      throw err;
      ^

    Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
        at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)
        at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)
        at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)
        at Module._load (node:internal/modules/cjs/loader:1226:37)
        at TracingChannel.traceSync (node:diagnostics_channel:328:14)
        at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)
        at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
        at node:internal/main/run_main_module:33:47 {
      code: 'MODULE_NOT_FOUND',
      requireStack: []
    }

    Node.js v25.1.0


      56 |
      57 |   test('should list available templates', async () => {
    > 58 |     const result = execSync('node dist/bin/cody-beads.js template list', {
         |                    ^
      59 |       cwd: testDir,
      60 |       encoding: 'utf8'
      61 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:58:20
]]>
</failure>
<system-err>
<![CDATA[node:internal/modules/cjs/loader:1423
  throw err;
  ^

Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
[90m    at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)[39m
[90m    at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)[39m
[90m    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)[39m
[90m    at Module._load (node:internal/modules/cjs/loader:1226:37)[39m
[90m    at TracingChannel.traceSync (node:diagnostics_channel:328:14)[39m
[90m    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)[39m
[90m    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)[39m
[90m    at node:internal/main/run_main_module:33:47[39m {
  code: [32m'MODULE_NOT_FOUND'[39m,
  requireStack: []
}

Node.js v25.1.0
]]>
</system-err>
</testcase>
<testcase name="CLI Workflows › should apply template and create project" classname="cli-workflows.spec.ts" time="0.094">
<failure message="cli-workflows.spec.ts:69:3 should apply template and create project" type="FAILURE">
<![CDATA[  [firefox] › cli-workflows.spec.ts:69:3 › CLI Workflows › should apply template and create project 

    Error: Command failed: node dist/bin/cody-beads.js template apply minimal --name test-project
    node:internal/modules/cjs/loader:1423
      throw err;
      ^

    Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
        at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)
        at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)
        at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)
        at Module._load (node:internal/modules/cjs/loader:1226:37)
        at TracingChannel.traceSync (node:diagnostics_channel:328:14)
        at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)
        at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
        at node:internal/main/run_main_module:33:47 {
      code: 'MODULE_NOT_FOUND',
      requireStack: []
    }

    Node.js v25.1.0


      71 |     const projectDir = join(testDir, projectName);
      72 |
    > 73 |     execSync(`node dist/bin/cody-beads.js template apply minimal --name ${projectName}`, {
         |     ^
      74 |       cwd: testDir,
      75 |       encoding: 'utf8'
      76 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:73:5
]]>
</failure>
<system-err>
<![CDATA[node:internal/modules/cjs/loader:1423
  throw err;
  ^

Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
[90m    at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)[39m
[90m    at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)[39m
[90m    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)[39m
[90m    at Module._load (node:internal/modules/cjs/loader:1226:37)[39m
[90m    at TracingChannel.traceSync (node:diagnostics_channel:328:14)[39m
[90m    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)[39m
[90m    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)[39m
[90m    at node:internal/main/run_main_module:33:47[39m {
  code: [32m'MODULE_NOT_FOUND'[39m,
  requireStack: []
}

Node.js v25.1.0
]]>
</system-err>
</testcase>
<testcase name="CLI Workflows › should handle sync with dry run" classname="cli-workflows.spec.ts" time="0.014">
<failure message="cli-workflows.spec.ts:83:3 should handle sync with dry run" type="FAILURE">
<![CDATA[  [firefox] › cli-workflows.spec.ts:83:3 › CLI Workflows › should handle sync with dry run ─────────

    ReferenceError: require is not defined

       96 |
       97 |     const configPath = join(testDir, 'cody-beads.config.json');
    >  98 |     require('fs').writeFileSync(configPath, JSON.stringify(config, null, 2));
          |     ^
       99 |
      100 |     const result = execSync('node dist/bin/cody-beads.js sync --dry-run', {
      101 |       cwd: testDir,
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:98:5
]]>
</failure>
</testcase>
<testcase name="CLI Workflows › should show error for invalid configuration" classname="cli-workflows.spec.ts" time="0.014">
<failure message="cli-workflows.spec.ts:109:3 should show error for invalid configuration" type="FAILURE">
<![CDATA[  [firefox] › cli-workflows.spec.ts:109:3 › CLI Workflows › should show error for invalid configuration 

    ReferenceError: require is not defined

      110 |     // Test with invalid configuration
      111 |     const configPath = join(testDir, 'cody-beads.config.json');
    > 112 |     require('fs').writeFileSync(configPath, '{ invalid json }');
          |     ^
      113 |
      114 |     const result = execSync('node dist/bin/cody-beads.js config test 2>&1 || true', {
      115 |       cwd: testDir,
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:112:5
]]>
</failure>
</testcase>
<testcase name="CLI Workflows › should version operations work correctly" classname="cli-workflows.spec.ts" time="0.11">
<failure message="cli-workflows.spec.ts:123:3 should version operations work correctly" type="FAILURE">
<![CDATA[  [firefox] › cli-workflows.spec.ts:123:3 › CLI Workflows › should version operations work correctly 

    Error: Command failed: node dist/bin/cody-beads.js version add --name "Test Version" --features "test features"
    node:internal/modules/cjs/loader:1423
      throw err;
      ^

    Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
        at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)
        at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)
        at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)
        at Module._load (node:internal/modules/cjs/loader:1226:37)
        at TracingChannel.traceSync (node:diagnostics_channel:328:14)
        at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)
        at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
        at node:internal/main/run_main_module:33:47 {
      code: 'MODULE_NOT_FOUND',
      requireStack: []
    }

    Node.js v25.1.0


      123 |   test('should version operations work correctly', async () => {
      124 |     // Test version add
    > 125 |     execSync(`node dist/bin/cody-beads.js version add --name "Test Version" --features "test features"`, {
          |     ^
      126 |       cwd: testDir,
      127 |       encoding: 'utf8'
      128 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:125:5
]]>
</failure>
<system-err>
<![CDATA[node:internal/modules/cjs/loader:1423
  throw err;
  ^

Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
[90m    at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)[39m
[90m    at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)[39m
[90m    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)[39m
[90m    at Module._load (node:internal/modules/cjs/loader:1226:37)[39m
[90m    at TracingChannel.traceSync (node:diagnostics_channel:328:14)[39m
[90m    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)[39m
[90m    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)[39m
[90m    at node:internal/main/run_main_module:33:47[39m {
  code: [32m'MODULE_NOT_FOUND'[39m,
  requireStack: []
}

Node.js v25.1.0
]]>
</system-err>
</testcase>
<testcase name="Error Handling › should handle missing configuration gracefully" classname="cli-workflows.spec.ts" time="0.005">
<failure message="cli-workflows.spec.ts:145:3 should handle missing configuration gracefully" type="FAILURE">
<![CDATA[  [firefox] › cli-workflows.spec.ts:145:3 › Error Handling › should handle missing configuration gracefully 

    Error: spawnSync /bin/sh ENOENT

      147 |
      148 |     try {
    > 149 |       const result = execSync('node dist/bin/cody-beads.js sync 2>&1 || true', {
          |                      ^
      150 |         cwd: testDir,
      151 |         encoding: 'utf8'
      152 |       });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:149:22
]]>
</failure>
</testcase>
<testcase name="Error Handling › should handle network errors gracefully" classname="cli-workflows.spec.ts" time="0.013">
<failure message="cli-workflows.spec.ts:164:3 should handle network errors gracefully" type="FAILURE">
<![CDATA[  [firefox] › cli-workflows.spec.ts:164:3 › Error Handling › should handle network errors gracefully 

    ReferenceError: require is not defined

      186 |     try {
      187 |       const configPath = join(testDir, 'cody-beads.config.json');
    > 188 |       require('fs').writeFileSync(configPath, JSON.stringify(config, null, 2));
          |       ^
      189 |
      190 |       const result = execSync('node dist/bin/cody-beads.js sync --timeout 5000 2>&1 || true', {
      191 |         cwd: testDir,
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:188:7
]]>
</failure>
<system-err>
</system-err>
</testcase>
</testsuite>
<testsuite name="cli-workflows.spec.ts" timestamp="2025-12-01T20:15:00.525Z" hostname="webkit" tests="9" failures="9" skipped="0" time="14.727" errors="0">
<testcase name="CLI Workflows › should show help information" classname="cli-workflows.spec.ts" time="7.575">
<failure message="cli-workflows.spec.ts:26:3 should show help information" type="FAILURE">
<![CDATA[  [webkit] › cli-workflows.spec.ts:26:3 › CLI Workflows › should show help information ─────────────

    Error: Command failed: npm run build && node dist/bin/cody-beads.js --help
    shell-init: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory
    /Users/peter/.nvm/versions/node/v25.1.0/lib/node_modules/npm/lib/cli/validate-engines.js:29
        throw err
        ^

    Error: ENOENT: no such file or directory, uv_cwd
        at process.wrappedCwd (node:internal/bootstrap/switches/does_own_process_state:142:28)

      27 |     // Navigate to CLI help page (if you have a web interface)
      28 |     // or use execSync for actual CLI commands
    > 29 |     const result = execSync('npm run build && node dist/bin/cody-beads.js --help', {
         |                    ^
      30 |       cwd: testDir,
      31 |       encoding: 'utf8'
      32 |     });
        at process.cwd (/Users/peter/.nvm/versions/node/v25.1.0/lib/node_modules/npm/node_modules/graceful-fs/polyfills.js:10:19)
        at new Config (/Users/peter/.nvm/versions/node/v25.1.0/lib/node_modules/npm/node_modules/@npmcli/config/lib/index.js:79:19)
        at new Npm (/Users/peter/.nvm/versions/node/v25.1.0/lib/node_modules/npm/lib/npm.js:67:19)
        at module.exports (/Users/peter/.nvm/versions/node/v25.1.0/lib/node_modules/npm/lib/cli/entry.js:14:15)
        at module.exports (/Users/peter/.nvm/versions/node/v25.1.0/lib/node_modules/npm/lib/cli/validate-engines.js:37:10)
        at module.exports (/Users/peter/.nvm/versions/node/v25.1.0/lib/node_modules/npm/lib/cli.js:12:31)
        at Object.<anonymous> (/Users/peter/.nvm/versions/node/v25.1.0/lib/node_modules/npm/bin/npm-cli.js:2:25)
        at Module._compile (node:internal/modules/cjs/loader:1760:14)
        at Object..js (node:internal/modules/cjs/loader:1892:10) {
      errno: -2,
      code: 'ENOENT',
      syscall: 'uv_cwd'
    }

    Node.js v25.1.0

        at process.cwd (/Users/peter/.nvm/versions/node/v25.1.0/lib/node_modules/npm/node_modules/graceful-fs/polyfills.js:10:19)
        at Config (/Users/peter/.nvm/versions/node/v25.1.0/lib/node_modules/npm/node_modules/@npmcli/config/lib/index.js:79:19)
        at Npm (/Users/peter/.nvm/versions/node/v25.1.0/lib/node_modules/npm/lib/npm.js:67:19)
        at module.exports (/Users/peter/.nvm/versions/node/v25.1.0/lib/node_modules/npm/lib/cli/entry.js:14:15)
        at module.exports (/Users/peter/.nvm/versions/node/v25.1.0/lib/node_modules/npm/lib/cli/validate-engines.js:37:10)
        at module.exports (/Users/peter/.nvm/versions/node/v25.1.0/lib/node_modules/npm/lib/cli.js:12:31)
        at Object.<anonymous> (/Users/peter/.nvm/versions/node/v25.1.0/lib/node_modules/npm/bin/npm-cli.js:2:25)
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:29:20

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/cli-workflows-CLI-Workflows-should-show-help-information-webkit/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ../../test-results/cli-workflows-CLI-Workflows-should-show-help-information-webkit/video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|test-results/cli-workflows-CLI-Workflows-should-show-help-information-webkit/test-failed-1.png]]

[[ATTACHMENT|test-results/cli-workflows-CLI-Workflows-should-show-help-information-webkit/video.webm]]
]]>
</system-out>
<system-err>
<![CDATA[shell-init: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory
/Users/peter/.nvm/versions/node/v25.1.0/lib/node_modules/npm/lib/cli/validate-engines.js:29
    throw err
    ^

Error: ENOENT: no such file or directory, uv_cwd
[90m    at process.wrappedCwd (node:internal/bootstrap/switches/does_own_process_state:142:28)[39m
    at process.cwd (/Users/peter/.nvm/versions/node/v25.1.0/lib/node_modules/[4mnpm[24m/node_modules/[4mgraceful-fs[24m/polyfills.js:10:19)
    at new Config (/Users/peter/.nvm/versions/node/v25.1.0/lib/node_modules/[4mnpm[24m/node_modules/[4m@npmcli/config[24m/lib/index.js:79:19)
    at new Npm (/Users/peter/.nvm/versions/node/v25.1.0/lib/node_modules/[4mnpm[24m/lib/npm.js:67:19)
    at module.exports (/Users/peter/.nvm/versions/node/v25.1.0/lib/node_modules/[4mnpm[24m/lib/cli/entry.js:14:15)
    at module.exports (/Users/peter/.nvm/versions/node/v25.1.0/lib/node_modules/[4mnpm[24m/lib/cli/validate-engines.js:37:10)
    at module.exports (/Users/peter/.nvm/versions/node/v25.1.0/lib/node_modules/[4mnpm[24m/lib/cli.js:12:31)
    at Object.<anonymous> (/Users/peter/.nvm/versions/node/v25.1.0/lib/node_modules/[4mnpm[24m/bin/npm-cli.js:2:25)
[90m    at Module._compile (node:internal/modules/cjs/loader:1760:14)[39m
[90m    at Object..js (node:internal/modules/cjs/loader:1892:10)[39m {
  errno: [33m-2[39m,
  code: [32m'ENOENT'[39m,
  syscall: [32m'uv_cwd'[39m
}

Node.js v25.1.0
]]>
</system-err>
</testcase>
<testcase name="CLI Workflows › should initialize configuration interactively" classname="cli-workflows.spec.ts" time="6.198">
<failure message="cli-workflows.spec.ts:41:3 should initialize configuration interactively" type="FAILURE">
<![CDATA[  [webkit] › cli-workflows.spec.ts:41:3 › CLI Workflows › should initialize configuration interactively 

    Error: spawnSync /bin/sh ENOENT

      46 |
      47 |     // Mock interactive responses
    > 48 |     const result = execSync(`echo -e "test-owner\\ntest-repo\\ntest-token\\n" | node dist/bin/cody-beads.js config setup`, {
         |                    ^
      49 |       cwd: testDir,
      50 |       encoding: 'utf8'
      51 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:48:20

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/cli-workflows-CLI-Workflow-18cb8-configuration-interactively-webkit/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ../../test-results/cli-workflows-CLI-Workflow-18cb8-configuration-interactively-webkit/video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|test-results/cli-workflows-CLI-Workflow-18cb8-configuration-interactively-webkit/test-failed-1.png]]

[[ATTACHMENT|test-results/cli-workflows-CLI-Workflow-18cb8-configuration-interactively-webkit/video.webm]]
]]>
</system-out>
</testcase>
<testcase name="CLI Workflows › should list available templates" classname="cli-workflows.spec.ts" time="0.649">
<failure message="cli-workflows.spec.ts:57:3 should list available templates" type="FAILURE">
<![CDATA[  [webkit] › cli-workflows.spec.ts:57:3 › CLI Workflows › should list available templates ──────────

    Error: Command failed: node dist/bin/cody-beads.js template list
    node:internal/modules/cjs/loader:1423
      throw err;
      ^

    Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
        at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)
        at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)
        at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)
        at Module._load (node:internal/modules/cjs/loader:1226:37)
        at TracingChannel.traceSync (node:diagnostics_channel:328:14)
        at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)
        at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
        at node:internal/main/run_main_module:33:47 {
      code: 'MODULE_NOT_FOUND',
      requireStack: []
    }

    Node.js v25.1.0


      56 |
      57 |   test('should list available templates', async () => {
    > 58 |     const result = execSync('node dist/bin/cody-beads.js template list', {
         |                    ^
      59 |       cwd: testDir,
      60 |       encoding: 'utf8'
      61 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:58:20
]]>
</failure>
<system-err>
<![CDATA[node:internal/modules/cjs/loader:1423
  throw err;
  ^

Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
[90m    at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)[39m
[90m    at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)[39m
[90m    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)[39m
[90m    at Module._load (node:internal/modules/cjs/loader:1226:37)[39m
[90m    at TracingChannel.traceSync (node:diagnostics_channel:328:14)[39m
[90m    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)[39m
[90m    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)[39m
[90m    at node:internal/main/run_main_module:33:47[39m {
  code: [32m'MODULE_NOT_FOUND'[39m,
  requireStack: []
}

Node.js v25.1.0
]]>
</system-err>
</testcase>
<testcase name="CLI Workflows › should apply template and create project" classname="cli-workflows.spec.ts" time="0.12">
<failure message="cli-workflows.spec.ts:69:3 should apply template and create project" type="FAILURE">
<![CDATA[  [webkit] › cli-workflows.spec.ts:69:3 › CLI Workflows › should apply template and create project ─

    Error: Command failed: node dist/bin/cody-beads.js template apply minimal --name test-project
    node:internal/modules/cjs/loader:1423
      throw err;
      ^

    Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
        at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)
        at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)
        at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)
        at Module._load (node:internal/modules/cjs/loader:1226:37)
        at TracingChannel.traceSync (node:diagnostics_channel:328:14)
        at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)
        at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
        at node:internal/main/run_main_module:33:47 {
      code: 'MODULE_NOT_FOUND',
      requireStack: []
    }

    Node.js v25.1.0


      71 |     const projectDir = join(testDir, projectName);
      72 |
    > 73 |     execSync(`node dist/bin/cody-beads.js template apply minimal --name ${projectName}`, {
         |     ^
      74 |       cwd: testDir,
      75 |       encoding: 'utf8'
      76 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:73:5
]]>
</failure>
<system-err>
<![CDATA[node:internal/modules/cjs/loader:1423
  throw err;
  ^

Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
[90m    at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)[39m
[90m    at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)[39m
[90m    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)[39m
[90m    at Module._load (node:internal/modules/cjs/loader:1226:37)[39m
[90m    at TracingChannel.traceSync (node:diagnostics_channel:328:14)[39m
[90m    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)[39m
[90m    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)[39m
[90m    at node:internal/main/run_main_module:33:47[39m {
  code: [32m'MODULE_NOT_FOUND'[39m,
  requireStack: []
}

Node.js v25.1.0
]]>
</system-err>
</testcase>
<testcase name="CLI Workflows › should handle sync with dry run" classname="cli-workflows.spec.ts" time="0.038">
<failure message="cli-workflows.spec.ts:83:3 should handle sync with dry run" type="FAILURE">
<![CDATA[  [webkit] › cli-workflows.spec.ts:83:3 › CLI Workflows › should handle sync with dry run ──────────

    ReferenceError: require is not defined

       96 |
       97 |     const configPath = join(testDir, 'cody-beads.config.json');
    >  98 |     require('fs').writeFileSync(configPath, JSON.stringify(config, null, 2));
          |     ^
       99 |
      100 |     const result = execSync('node dist/bin/cody-beads.js sync --dry-run', {
      101 |       cwd: testDir,
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:98:5
]]>
</failure>
</testcase>
<testcase name="CLI Workflows › should show error for invalid configuration" classname="cli-workflows.spec.ts" time="0.039">
<failure message="cli-workflows.spec.ts:109:3 should show error for invalid configuration" type="FAILURE">
<![CDATA[  [webkit] › cli-workflows.spec.ts:109:3 › CLI Workflows › should show error for invalid configuration 

    ReferenceError: require is not defined

      110 |     // Test with invalid configuration
      111 |     const configPath = join(testDir, 'cody-beads.config.json');
    > 112 |     require('fs').writeFileSync(configPath, '{ invalid json }');
          |     ^
      113 |
      114 |     const result = execSync('node dist/bin/cody-beads.js config test 2>&1 || true', {
      115 |       cwd: testDir,
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:112:5
]]>
</failure>
</testcase>
<testcase name="CLI Workflows › should version operations work correctly" classname="cli-workflows.spec.ts" time="0.069">
<failure message="cli-workflows.spec.ts:123:3 should version operations work correctly" type="FAILURE">
<![CDATA[  [webkit] › cli-workflows.spec.ts:123:3 › CLI Workflows › should version operations work correctly 

    Error: Command failed: node dist/bin/cody-beads.js version add --name "Test Version" --features "test features"
    node:internal/modules/cjs/loader:1423
      throw err;
      ^

    Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
        at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)
        at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)
        at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)
        at Module._load (node:internal/modules/cjs/loader:1226:37)
        at TracingChannel.traceSync (node:diagnostics_channel:328:14)
        at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)
        at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
        at node:internal/main/run_main_module:33:47 {
      code: 'MODULE_NOT_FOUND',
      requireStack: []
    }

    Node.js v25.1.0


      123 |   test('should version operations work correctly', async () => {
      124 |     // Test version add
    > 125 |     execSync(`node dist/bin/cody-beads.js version add --name "Test Version" --features "test features"`, {
          |     ^
      126 |       cwd: testDir,
      127 |       encoding: 'utf8'
      128 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:125:5
]]>
</failure>
<system-err>
<![CDATA[node:internal/modules/cjs/loader:1423
  throw err;
  ^

Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
[90m    at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)[39m
[90m    at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)[39m
[90m    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)[39m
[90m    at Module._load (node:internal/modules/cjs/loader:1226:37)[39m
[90m    at TracingChannel.traceSync (node:diagnostics_channel:328:14)[39m
[90m    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)[39m
[90m    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)[39m
[90m    at node:internal/main/run_main_module:33:47[39m {
  code: [32m'MODULE_NOT_FOUND'[39m,
  requireStack: []
}

Node.js v25.1.0
]]>
</system-err>
</testcase>
<testcase name="Error Handling › should handle missing configuration gracefully" classname="cli-workflows.spec.ts" time="0.004">
<failure message="cli-workflows.spec.ts:145:3 should handle missing configuration gracefully" type="FAILURE">
<![CDATA[  [webkit] › cli-workflows.spec.ts:145:3 › Error Handling › should handle missing configuration gracefully 

    Error: spawnSync /bin/sh ENOENT

      147 |
      148 |     try {
    > 149 |       const result = execSync('node dist/bin/cody-beads.js sync 2>&1 || true', {
          |                      ^
      150 |         cwd: testDir,
      151 |         encoding: 'utf8'
      152 |       });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:149:22
]]>
</failure>
</testcase>
<testcase name="Error Handling › should handle network errors gracefully" classname="cli-workflows.spec.ts" time="0.035">
<failure message="cli-workflows.spec.ts:164:3 should handle network errors gracefully" type="FAILURE">
<![CDATA[  [webkit] › cli-workflows.spec.ts:164:3 › Error Handling › should handle network errors gracefully 

    ReferenceError: require is not defined

      186 |     try {
      187 |       const configPath = join(testDir, 'cody-beads.config.json');
    > 188 |       require('fs').writeFileSync(configPath, JSON.stringify(config, null, 2));
          |       ^
      189 |
      190 |       const result = execSync('node dist/bin/cody-beads.js sync --timeout 5000 2>&1 || true', {
      191 |         cwd: testDir,
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:188:7
]]>
</failure>
<system-err>
</system-err>
</testcase>
</testsuite>
<testsuite name="cli-workflows.spec.ts" timestamp="2025-12-01T20:15:00.525Z" hostname="Mobile Chrome" tests="9" failures="9" skipped="0" time="1.237" errors="0">
<testcase name="CLI Workflows › should show help information" classname="cli-workflows.spec.ts" time="0.5">
<failure message="cli-workflows.spec.ts:26:3 should show help information" type="FAILURE">
<![CDATA[  [Mobile Chrome] › cli-workflows.spec.ts:26:3 › CLI Workflows › should show help information ──────

    Error: spawnSync /bin/sh ENOENT

      27 |     // Navigate to CLI help page (if you have a web interface)
      28 |     // or use execSync for actual CLI commands
    > 29 |     const result = execSync('npm run build && node dist/bin/cody-beads.js --help', {
         |                    ^
      30 |       cwd: testDir,
      31 |       encoding: 'utf8'
      32 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:29:20

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/cli-workflows-CLI-Workflows-should-show-help-information-Mobile-Chrome/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ../../test-results/cli-workflows-CLI-Workflows-should-show-help-information-Mobile-Chrome/video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|test-results/cli-workflows-CLI-Workflows-should-show-help-information-Mobile-Chrome/test-failed-1.png]]

[[ATTACHMENT|test-results/cli-workflows-CLI-Workflows-should-show-help-information-Mobile-Chrome/video.webm]]
]]>
</system-out>
</testcase>
<testcase name="CLI Workflows › should initialize configuration interactively" classname="cli-workflows.spec.ts" time="0.505">
<failure message="cli-workflows.spec.ts:41:3 should initialize configuration interactively" type="FAILURE">
<![CDATA[  [Mobile Chrome] › cli-workflows.spec.ts:41:3 › CLI Workflows › should initialize configuration interactively 

    Error: spawnSync /bin/sh ENOENT

      46 |
      47 |     // Mock interactive responses
    > 48 |     const result = execSync(`echo -e "test-owner\\ntest-repo\\ntest-token\\n" | node dist/bin/cody-beads.js config setup`, {
         |                    ^
      49 |       cwd: testDir,
      50 |       encoding: 'utf8'
      51 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:48:20

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/cli-workflows-CLI-Workflow-18cb8-configuration-interactively-Mobile-Chrome/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ../../test-results/cli-workflows-CLI-Workflow-18cb8-configuration-interactively-Mobile-Chrome/video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|test-results/cli-workflows-CLI-Workflow-18cb8-configuration-interactively-Mobile-Chrome/test-failed-1.png]]

[[ATTACHMENT|test-results/cli-workflows-CLI-Workflow-18cb8-configuration-interactively-Mobile-Chrome/video.webm]]
]]>
</system-out>
</testcase>
<testcase name="CLI Workflows › should list available templates" classname="cli-workflows.spec.ts" time="0.063">
<failure message="cli-workflows.spec.ts:57:3 should list available templates" type="FAILURE">
<![CDATA[  [Mobile Chrome] › cli-workflows.spec.ts:57:3 › CLI Workflows › should list available templates ───

    Error: Command failed: node dist/bin/cody-beads.js template list
    node:internal/modules/cjs/loader:1423
      throw err;
      ^

    Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
        at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)
        at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)
        at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)
        at Module._load (node:internal/modules/cjs/loader:1226:37)
        at TracingChannel.traceSync (node:diagnostics_channel:328:14)
        at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)
        at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
        at node:internal/main/run_main_module:33:47 {
      code: 'MODULE_NOT_FOUND',
      requireStack: []
    }

    Node.js v25.1.0


      56 |
      57 |   test('should list available templates', async () => {
    > 58 |     const result = execSync('node dist/bin/cody-beads.js template list', {
         |                    ^
      59 |       cwd: testDir,
      60 |       encoding: 'utf8'
      61 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:58:20
]]>
</failure>
<system-err>
<![CDATA[node:internal/modules/cjs/loader:1423
  throw err;
  ^

Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
[90m    at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)[39m
[90m    at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)[39m
[90m    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)[39m
[90m    at Module._load (node:internal/modules/cjs/loader:1226:37)[39m
[90m    at TracingChannel.traceSync (node:diagnostics_channel:328:14)[39m
[90m    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)[39m
[90m    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)[39m
[90m    at node:internal/main/run_main_module:33:47[39m {
  code: [32m'MODULE_NOT_FOUND'[39m,
  requireStack: []
}

Node.js v25.1.0
]]>
</system-err>
</testcase>
<testcase name="CLI Workflows › should apply template and create project" classname="cli-workflows.spec.ts" time="0.066">
<failure message="cli-workflows.spec.ts:69:3 should apply template and create project" type="FAILURE">
<![CDATA[  [Mobile Chrome] › cli-workflows.spec.ts:69:3 › CLI Workflows › should apply template and create project 

    Error: Command failed: node dist/bin/cody-beads.js template apply minimal --name test-project
    node:internal/modules/cjs/loader:1423
      throw err;
      ^

    Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
        at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)
        at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)
        at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)
        at Module._load (node:internal/modules/cjs/loader:1226:37)
        at TracingChannel.traceSync (node:diagnostics_channel:328:14)
        at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)
        at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
        at node:internal/main/run_main_module:33:47 {
      code: 'MODULE_NOT_FOUND',
      requireStack: []
    }

    Node.js v25.1.0


      71 |     const projectDir = join(testDir, projectName);
      72 |
    > 73 |     execSync(`node dist/bin/cody-beads.js template apply minimal --name ${projectName}`, {
         |     ^
      74 |       cwd: testDir,
      75 |       encoding: 'utf8'
      76 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:73:5
]]>
</failure>
<system-err>
<![CDATA[node:internal/modules/cjs/loader:1423
  throw err;
  ^

Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
[90m    at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)[39m
[90m    at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)[39m
[90m    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)[39m
[90m    at Module._load (node:internal/modules/cjs/loader:1226:37)[39m
[90m    at TracingChannel.traceSync (node:diagnostics_channel:328:14)[39m
[90m    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)[39m
[90m    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)[39m
[90m    at node:internal/main/run_main_module:33:47[39m {
  code: [32m'MODULE_NOT_FOUND'[39m,
  requireStack: []
}

Node.js v25.1.0
]]>
</system-err>
</testcase>
<testcase name="CLI Workflows › should handle sync with dry run" classname="cli-workflows.spec.ts" time="0.011">
<failure message="cli-workflows.spec.ts:83:3 should handle sync with dry run" type="FAILURE">
<![CDATA[  [Mobile Chrome] › cli-workflows.spec.ts:83:3 › CLI Workflows › should handle sync with dry run ───

    ReferenceError: require is not defined

       96 |
       97 |     const configPath = join(testDir, 'cody-beads.config.json');
    >  98 |     require('fs').writeFileSync(configPath, JSON.stringify(config, null, 2));
          |     ^
       99 |
      100 |     const result = execSync('node dist/bin/cody-beads.js sync --dry-run', {
      101 |       cwd: testDir,
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:98:5
]]>
</failure>
</testcase>
<testcase name="CLI Workflows › should show error for invalid configuration" classname="cli-workflows.spec.ts" time="0.01">
<failure message="cli-workflows.spec.ts:109:3 should show error for invalid configuration" type="FAILURE">
<![CDATA[  [Mobile Chrome] › cli-workflows.spec.ts:109:3 › CLI Workflows › should show error for invalid configuration 

    ReferenceError: require is not defined

      110 |     // Test with invalid configuration
      111 |     const configPath = join(testDir, 'cody-beads.config.json');
    > 112 |     require('fs').writeFileSync(configPath, '{ invalid json }');
          |     ^
      113 |
      114 |     const result = execSync('node dist/bin/cody-beads.js config test 2>&1 || true', {
      115 |       cwd: testDir,
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:112:5
]]>
</failure>
</testcase>
<testcase name="CLI Workflows › should version operations work correctly" classname="cli-workflows.spec.ts" time="0.066">
<failure message="cli-workflows.spec.ts:123:3 should version operations work correctly" type="FAILURE">
<![CDATA[  [Mobile Chrome] › cli-workflows.spec.ts:123:3 › CLI Workflows › should version operations work correctly 

    Error: Command failed: node dist/bin/cody-beads.js version add --name "Test Version" --features "test features"
    node:internal/modules/cjs/loader:1423
      throw err;
      ^

    Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
        at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)
        at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)
        at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)
        at Module._load (node:internal/modules/cjs/loader:1226:37)
        at TracingChannel.traceSync (node:diagnostics_channel:328:14)
        at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)
        at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
        at node:internal/main/run_main_module:33:47 {
      code: 'MODULE_NOT_FOUND',
      requireStack: []
    }

    Node.js v25.1.0


      123 |   test('should version operations work correctly', async () => {
      124 |     // Test version add
    > 125 |     execSync(`node dist/bin/cody-beads.js version add --name "Test Version" --features "test features"`, {
          |     ^
      126 |       cwd: testDir,
      127 |       encoding: 'utf8'
      128 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:125:5
]]>
</failure>
<system-err>
<![CDATA[node:internal/modules/cjs/loader:1423
  throw err;
  ^

Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
[90m    at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)[39m
[90m    at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)[39m
[90m    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)[39m
[90m    at Module._load (node:internal/modules/cjs/loader:1226:37)[39m
[90m    at TracingChannel.traceSync (node:diagnostics_channel:328:14)[39m
[90m    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)[39m
[90m    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)[39m
[90m    at node:internal/main/run_main_module:33:47[39m {
  code: [32m'MODULE_NOT_FOUND'[39m,
  requireStack: []
}

Node.js v25.1.0
]]>
</system-err>
</testcase>
<testcase name="Error Handling › should handle missing configuration gracefully" classname="cli-workflows.spec.ts" time="0.003">
<failure message="cli-workflows.spec.ts:145:3 should handle missing configuration gracefully" type="FAILURE">
<![CDATA[  [Mobile Chrome] › cli-workflows.spec.ts:145:3 › Error Handling › should handle missing configuration gracefully 

    Error: spawnSync /bin/sh ENOENT

      147 |
      148 |     try {
    > 149 |       const result = execSync('node dist/bin/cody-beads.js sync 2>&1 || true', {
          |                      ^
      150 |         cwd: testDir,
      151 |         encoding: 'utf8'
      152 |       });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:149:22
]]>
</failure>
</testcase>
<testcase name="Error Handling › should handle network errors gracefully" classname="cli-workflows.spec.ts" time="0.013">
<failure message="cli-workflows.spec.ts:164:3 should handle network errors gracefully" type="FAILURE">
<![CDATA[  [Mobile Chrome] › cli-workflows.spec.ts:164:3 › Error Handling › should handle network errors gracefully 

    ReferenceError: require is not defined

      186 |     try {
      187 |       const configPath = join(testDir, 'cody-beads.config.json');
    > 188 |       require('fs').writeFileSync(configPath, JSON.stringify(config, null, 2));
          |       ^
      189 |
      190 |       const result = execSync('node dist/bin/cody-beads.js sync --timeout 5000 2>&1 || true', {
      191 |         cwd: testDir,
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:188:7
]]>
</failure>
<system-err>
</system-err>
</testcase>
</testsuite>
<testsuite name="cli-workflows.spec.ts" timestamp="2025-12-01T20:15:00.525Z" hostname="Mobile Safari" tests="9" failures="9" skipped="0" time="4.916" errors="0">
<testcase name="CLI Workflows › should show help information" classname="cli-workflows.spec.ts" time="2.335">
<failure message="cli-workflows.spec.ts:26:3 should show help information" type="FAILURE">
<![CDATA[  [Mobile Safari] › cli-workflows.spec.ts:26:3 › CLI Workflows › should show help information ──────

    Error: spawnSync /bin/sh ENOENT

      27 |     // Navigate to CLI help page (if you have a web interface)
      28 |     // or use execSync for actual CLI commands
    > 29 |     const result = execSync('npm run build && node dist/bin/cody-beads.js --help', {
         |                    ^
      30 |       cwd: testDir,
      31 |       encoding: 'utf8'
      32 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:29:20

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/cli-workflows-CLI-Workflows-should-show-help-information-Mobile-Safari/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ../../test-results/cli-workflows-CLI-Workflows-should-show-help-information-Mobile-Safari/video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|test-results/cli-workflows-CLI-Workflows-should-show-help-information-Mobile-Safari/test-failed-1.png]]

[[ATTACHMENT|test-results/cli-workflows-CLI-Workflows-should-show-help-information-Mobile-Safari/video.webm]]
]]>
</system-out>
</testcase>
<testcase name="CLI Workflows › should initialize configuration interactively" classname="cli-workflows.spec.ts" time="2.321">
<failure message="cli-workflows.spec.ts:41:3 should initialize configuration interactively" type="FAILURE">
<![CDATA[  [Mobile Safari] › cli-workflows.spec.ts:41:3 › CLI Workflows › should initialize configuration interactively 

    Error: spawnSync /bin/sh ENOENT

      46 |
      47 |     // Mock interactive responses
    > 48 |     const result = execSync(`echo -e "test-owner\\ntest-repo\\ntest-token\\n" | node dist/bin/cody-beads.js config setup`, {
         |                    ^
      49 |       cwd: testDir,
      50 |       encoding: 'utf8'
      51 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:48:20

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/cli-workflows-CLI-Workflow-18cb8-configuration-interactively-Mobile-Safari/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ../../test-results/cli-workflows-CLI-Workflow-18cb8-configuration-interactively-Mobile-Safari/video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|test-results/cli-workflows-CLI-Workflow-18cb8-configuration-interactively-Mobile-Safari/test-failed-1.png]]

[[ATTACHMENT|test-results/cli-workflows-CLI-Workflow-18cb8-configuration-interactively-Mobile-Safari/video.webm]]
]]>
</system-out>
</testcase>
<testcase name="CLI Workflows › should list available templates" classname="cli-workflows.spec.ts" time="0.058">
<failure message="cli-workflows.spec.ts:57:3 should list available templates" type="FAILURE">
<![CDATA[  [Mobile Safari] › cli-workflows.spec.ts:57:3 › CLI Workflows › should list available templates ───

    Error: Command failed: node dist/bin/cody-beads.js template list
    node:internal/modules/cjs/loader:1423
      throw err;
      ^

    Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
        at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)
        at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)
        at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)
        at Module._load (node:internal/modules/cjs/loader:1226:37)
        at TracingChannel.traceSync (node:diagnostics_channel:328:14)
        at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)
        at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
        at node:internal/main/run_main_module:33:47 {
      code: 'MODULE_NOT_FOUND',
      requireStack: []
    }

    Node.js v25.1.0


      56 |
      57 |   test('should list available templates', async () => {
    > 58 |     const result = execSync('node dist/bin/cody-beads.js template list', {
         |                    ^
      59 |       cwd: testDir,
      60 |       encoding: 'utf8'
      61 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:58:20
]]>
</failure>
<system-err>
<![CDATA[node:internal/modules/cjs/loader:1423
  throw err;
  ^

Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
[90m    at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)[39m
[90m    at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)[39m
[90m    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)[39m
[90m    at Module._load (node:internal/modules/cjs/loader:1226:37)[39m
[90m    at TracingChannel.traceSync (node:diagnostics_channel:328:14)[39m
[90m    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)[39m
[90m    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)[39m
[90m    at node:internal/main/run_main_module:33:47[39m {
  code: [32m'MODULE_NOT_FOUND'[39m,
  requireStack: []
}

Node.js v25.1.0
]]>
</system-err>
</testcase>
<testcase name="CLI Workflows › should apply template and create project" classname="cli-workflows.spec.ts" time="0.066">
<failure message="cli-workflows.spec.ts:69:3 should apply template and create project" type="FAILURE">
<![CDATA[  [Mobile Safari] › cli-workflows.spec.ts:69:3 › CLI Workflows › should apply template and create project 

    Error: Command failed: node dist/bin/cody-beads.js template apply minimal --name test-project
    node:internal/modules/cjs/loader:1423
      throw err;
      ^

    Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
        at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)
        at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)
        at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)
        at Module._load (node:internal/modules/cjs/loader:1226:37)
        at TracingChannel.traceSync (node:diagnostics_channel:328:14)
        at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)
        at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
        at node:internal/main/run_main_module:33:47 {
      code: 'MODULE_NOT_FOUND',
      requireStack: []
    }

    Node.js v25.1.0


      71 |     const projectDir = join(testDir, projectName);
      72 |
    > 73 |     execSync(`node dist/bin/cody-beads.js template apply minimal --name ${projectName}`, {
         |     ^
      74 |       cwd: testDir,
      75 |       encoding: 'utf8'
      76 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:73:5
]]>
</failure>
<system-err>
<![CDATA[node:internal/modules/cjs/loader:1423
  throw err;
  ^

Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
[90m    at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)[39m
[90m    at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)[39m
[90m    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)[39m
[90m    at Module._load (node:internal/modules/cjs/loader:1226:37)[39m
[90m    at TracingChannel.traceSync (node:diagnostics_channel:328:14)[39m
[90m    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)[39m
[90m    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)[39m
[90m    at node:internal/main/run_main_module:33:47[39m {
  code: [32m'MODULE_NOT_FOUND'[39m,
  requireStack: []
}

Node.js v25.1.0
]]>
</system-err>
</testcase>
<testcase name="CLI Workflows › should handle sync with dry run" classname="cli-workflows.spec.ts" time="0.009">
<failure message="cli-workflows.spec.ts:83:3 should handle sync with dry run" type="FAILURE">
<![CDATA[  [Mobile Safari] › cli-workflows.spec.ts:83:3 › CLI Workflows › should handle sync with dry run ───

    ReferenceError: require is not defined

       96 |
       97 |     const configPath = join(testDir, 'cody-beads.config.json');
    >  98 |     require('fs').writeFileSync(configPath, JSON.stringify(config, null, 2));
          |     ^
       99 |
      100 |     const result = execSync('node dist/bin/cody-beads.js sync --dry-run', {
      101 |       cwd: testDir,
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:98:5
]]>
</failure>
</testcase>
<testcase name="CLI Workflows › should show error for invalid configuration" classname="cli-workflows.spec.ts" time="0.015">
<failure message="cli-workflows.spec.ts:109:3 should show error for invalid configuration" type="FAILURE">
<![CDATA[  [Mobile Safari] › cli-workflows.spec.ts:109:3 › CLI Workflows › should show error for invalid configuration 

    ReferenceError: require is not defined

      110 |     // Test with invalid configuration
      111 |     const configPath = join(testDir, 'cody-beads.config.json');
    > 112 |     require('fs').writeFileSync(configPath, '{ invalid json }');
          |     ^
      113 |
      114 |     const result = execSync('node dist/bin/cody-beads.js config test 2>&1 || true', {
      115 |       cwd: testDir,
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:112:5
]]>
</failure>
</testcase>
<testcase name="CLI Workflows › should version operations work correctly" classname="cli-workflows.spec.ts" time="0.083">
<failure message="cli-workflows.spec.ts:123:3 should version operations work correctly" type="FAILURE">
<![CDATA[  [Mobile Safari] › cli-workflows.spec.ts:123:3 › CLI Workflows › should version operations work correctly 

    Error: Command failed: node dist/bin/cody-beads.js version add --name "Test Version" --features "test features"
    node:internal/modules/cjs/loader:1423
      throw err;
      ^

    Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
        at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)
        at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)
        at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)
        at Module._load (node:internal/modules/cjs/loader:1226:37)
        at TracingChannel.traceSync (node:diagnostics_channel:328:14)
        at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)
        at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)
        at node:internal/main/run_main_module:33:47 {
      code: 'MODULE_NOT_FOUND',
      requireStack: []
    }

    Node.js v25.1.0


      123 |   test('should version operations work correctly', async () => {
      124 |     // Test version add
    > 125 |     execSync(`node dist/bin/cody-beads.js version add --name "Test Version" --features "test features"`, {
          |     ^
      126 |       cwd: testDir,
      127 |       encoding: 'utf8'
      128 |     });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:125:5
]]>
</failure>
<system-err>
<![CDATA[node:internal/modules/cjs/loader:1423
  throw err;
  ^

Error: Cannot find module '/Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/test-temp-cli/dist/bin/cody-beads.js'
[90m    at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)[39m
[90m    at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)[39m
[90m    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)[39m
[90m    at Module._load (node:internal/modules/cjs/loader:1226:37)[39m
[90m    at TracingChannel.traceSync (node:diagnostics_channel:328:14)[39m
[90m    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)[39m
[90m    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:154:5)[39m
[90m    at node:internal/main/run_main_module:33:47[39m {
  code: [32m'MODULE_NOT_FOUND'[39m,
  requireStack: []
}

Node.js v25.1.0
]]>
</system-err>
</testcase>
<testcase name="Error Handling › should handle missing configuration gracefully" classname="cli-workflows.spec.ts" time="0.013">
<failure message="cli-workflows.spec.ts:145:3 should handle missing configuration gracefully" type="FAILURE">
<![CDATA[  [Mobile Safari] › cli-workflows.spec.ts:145:3 › Error Handling › should handle missing configuration gracefully 

    Error: spawnSync /bin/sh ENOENT

      147 |
      148 |     try {
    > 149 |       const result = execSync('node dist/bin/cody-beads.js sync 2>&1 || true', {
          |                      ^
      150 |         cwd: testDir,
      151 |         encoding: 'utf8'
      152 |       });
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:149:22
]]>
</failure>
</testcase>
<testcase name="Error Handling › should handle network errors gracefully" classname="cli-workflows.spec.ts" time="0.016">
<failure message="cli-workflows.spec.ts:164:3 should handle network errors gracefully" type="FAILURE">
<![CDATA[  [Mobile Safari] › cli-workflows.spec.ts:164:3 › Error Handling › should handle network errors gracefully 

    ReferenceError: require is not defined

      186 |     try {
      187 |       const configPath = join(testDir, 'cody-beads.config.json');
    > 188 |       require('fs').writeFileSync(configPath, JSON.stringify(config, null, 2));
          |       ^
      189 |
      190 |       const result = execSync('node dist/bin/cody-beads.js sync --timeout 5000 2>&1 || true', {
      191 |         cwd: testDir,
        at /Users/peter/github/opencode-workflow-kit/packages/cody-beads-integration/tests/e2e/cli-workflows.spec.ts:188:7
]]>
</failure>
<system-err>
</system-err>
</testcase>
</testsuite>
</testsuites>